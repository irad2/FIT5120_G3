<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advice For Protection</title>
    <link href="https://fonts.googleapis.com/css2?family=Finger+Paint&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="Resource/favicon.png">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/uv.js"></script>
    <script src="js/script.js"></script>
    <script src="js/advice.js"></script>
    <style>
        body {
            background-color: #fc9731;
        }
    </style>
</head>

<body>
    <header class="menu-toggle">
        <div class="hamburger-icon">
            <img src="Resource/hamburger-icon.png" alt="" onclick="toggleMenu()">

        </div>
        <nav id="sidebar" class="hide">
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="uv_analysis.html">UV</a></li>
                <!-- <li><a href="find_your _skin_doctor.html">Find Your Skin Doctor</a></li> -->
                <li><a href="protect _your_skin.html">Protect Your Skin</a></li>
                <li><a href="data_visualization.html">Sunburnt Data</a></li>
                <li><a href="skin_health _game.html">Skin Health Game</a></li>
                <li><a href="daily_sun _protection_advice.html">Daily Sun Protection Advice</a></li>
            </ul>
        </nav>
        <div class="uv-index-button">
            <div id="current-uv-index"></div>
        </div>
        <div class="change-btn">
            <p>Change Location</p>
            <div id="dropdownMenu">
                <ul>

                </ul>
            </div>
        </div>
    </header>
    <div id="overlay" onclick="toggleMenu()" class="overlay"></div>

    <span id="trm-uv" style="display: none;"></span>
    <div id="advice-info">
        <div class="ad-title">
            <p>Sunshine Safety Guide</p>
        </div>
        <div id="ad-row1">
            <div class="ad-row1-title">
                <p>Tomorrow Advice For Outside</p>
            </div>
            <div id="advice-1">
                <p>Loading</p>
            </div>
        </div>
        <div id="ad-row2">
            <div class="left-part">
                <div class="row2-title">
                    <p>UV Tips For You</p>
                </div>
                <div class="question">
                    <p>
                        Where Are You From?
                    </p>
                </div>
                <div id="reg-select">
                    <select id="reg-Dropdown">
                        <option value="north_africa">North Africa</option>
                        <option value="sub_saharan_africa">Sub-Saharan Africa</option>
                        <option value="central_asia">Central Asia</option>
                        <option value="east_asia">East Asia</option>
                        <option value="south_asia">South Asia</option>
                        <option value="southeast_asia">Southeast Asia</option>
                        <option value="western_europe">Western Europe</option>
                        <option value="northern_europe">Northern Europe</option>
                        <option value="southern_europe">Southern Europe</option>
                        <option value="eastern_europe">Eastern Europe</option>
                        <option value="north_america">North America</option>
                        <option value="central_america">Central America</option>
                        <option value="south_america">South America</option>
                        <option value="oceania">Oceania (Australia & New Zealand)</option>
                        <option value="pacific_islands">Pacific Islands</option>
                        <option value="middle_east">Middle East</option>
                    </select>
                </div>
            </div>
            <div class="right-part">
                <div id="tip-content">
                    <div class="dialog">
                        <img src="Resource/dialog.png" alt="">
                        <div id="reg-tips">
                            <p id="typewriter-text">Australia's UV rays are stronger than home, and there is a lack of dust filtration. Continue to use a headscarf or wide-brimmed hat and increase the frequency of sunscreen use. Beware of skin changes, you may burn more easily than back home. Replenish water and adapt to drier climate.</p>
                        </div>
                    </div>

                </div>
                <div class="lion-tk">
                    <img src="Resource/lion.png" alt="">
                </div>
            </div>


        </div>
        <div class="for-space">
        </div>
    </div>
    <footer>
        <nav>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="uv_analysis.html">UV Analysis</a></li>
                <li><a href="daily_sun _protection_advice.html">Daily Sun Protection Advice</a></li>
                <li><a href="protect _your_skin.html">Skin Health Guide</a></li>
                <li><a href="sunburn_protection_dashboard.html">Sunburn Protection Dashboard</a></li>
                <li><a href="skin_health _game.html">Skin Health Game</a></li>
                <li><a href="help_us_improve.html">Help Us Improve</a></li>
            </ul>
        </nav>
        <div class="copyright">
            <img src="Resource/favicon.png" alt="Logo"> Â© 2024 TPD3 All Rights Reserved
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var selectElement = document.getElementById('reg-Dropdown');

            selectElement.addEventListener('change', function() {
                var selectedRegion = this.value;
                updateTipContent(selectedRegion);
            });
            var currentTimeoutId;

            function typeWriter(elementId, speed) {
                var element = document.getElementById(elementId);
                var text = element.innerText;
                var i = 0;
                element.innerText = '';

                if (currentTimeoutId) {
                    clearTimeout(currentTimeoutId);
                }

                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        currentTimeoutId = setTimeout(type, speed);
                    }
                }

                type();
            }

            function updateTipContent(region) {
                var tipText = getTipTextByRegion(region);
                var tipElement = document.getElementById('typewriter-text');
                tipElement.innerText = tipText;
                typeWriter('typewriter-text', 25);
            }

            function getTipTextByRegion(region) {
                switch (region) {
                    case 'north_africa':
                        return 'Australia\'s UV rays are stronger than home, and there is a lack of dust filtration. Continue to use a headscarf or wide-brimmed hat and increase the frequency of sunscreen use. Beware of skin changes, you may burn more easily than back home. Replenish water and adapt to drier climate.';
                    case 'sub_saharan_africa':
                        return 'Australia is dry with less rain and stronger UV rays. With less shade, sunscreen needs to be applied more frequently. Stick to dark colors, but opt for lighter fabrics. Drink plenty of water to prevent dehydration.';
                    case 'central_asia':
                        return 'Australia has a small temperature difference between day and night, but stronger UV rays. Reduce heavy clothing and learn to dress in layers. Fewer sandstorms and more need for artificial sun protection. Watch out for lips that tend to dry out and use sunscreen lip balm.';
                    case 'east_asia':
                        return 'In Australia, the UV intensity varies little throughout the four seasons. Reduce the habit of relying on indoor activities, but outdoors need full sun protection. Seafood is rich, and supplementation with omega-3 helps with skin antioxidants.';
                    case 'south_asia':
                        return 'Australia has little rainfall and constant sun protection. Traditional cooling methods, such as mango leaves, have been replaced with sunscreen spray. Attaching great importance to sun protection is as important as pollution prevention. Vegetarians should be careful to supplement their diet with vitamin D.';
                    case 'southeast_asia':
                        return 'The air in Australia is dry and the skin is prone to dehydration. Traditional moisturizers like coconut oil can clog pores. Switch to a refreshing sunscreen. Reduce skin problems caused by humidity, but increase protection from the sun.';
                    case 'western_europe':
                        return 'In Australia, the sunshine is stronger, and the outdoor activity time needs to be adjusted. Sun protection habits spread from summer to year-round. SPF may need to be raised. Be wary of reflective beach environments.';
                    case 'northern_europe':
                        return 'Australia has a high UV intensity. From the concept of "sun calcium supplement" to the overall awareness of sun protection. Sun protection is especially important in spring, when the skin does not yet produce melanin. When working outdoors, supplement with sun protection every hour.';
                    case 'southern_europe':
                        return 'More UV rays on Australian beaches, double the use of sunscreen. Supplement your diet with lycopene and other antioxidants. Olive oil skin care switch to professional sunscreen to reduce the risk of oily skin.';
                    case 'eastern_europe':
                        return 'Australia has milder winters but still needs sun protection. Originally adapted to indoor heating and dry environment, pay attention to water and sun protection. Reduce the habit of relying heavily on clothing for sunscreen, and develop the habit of applying sunscreen.';
                    case 'north_america':
                        return 'Australia has a long history of high UV levels. Originally no need for winter sun protection, now need to develop a year-round sunscreen habit. Choose a more hydrating formula for sunscreen and adapt to dry climates.';
                    case 'central_america':
                        return 'Australia\'s lack of afternoon thundershowers, sun protection can not be halfway "rest". Keep sunscreen spray handy when moving from indoor to outdoor sports activities. Supplement your diet with antioxidant fruits such as kiwifruit.';
                    case 'south_america':
                        return 'Australia has a longer dry season, and the skin is prone to dehydration. Change the habit of relying on natural shading and actively use sunscreen. Outdoor activities have shifted from the rainy season to the dry season, and the demand for sun protection has increased.';
                    case 'oceania':
                        return 'Children from Oceania may already be familiar with sun protection measures but should ensure consistency, such as reapplying sunscreen regularly.';
                    case 'pacific_islands':
                        return 'In Australia, the temperature difference between day and night is large, and the skin is easy to stress. Coconut oil is not enough to protect you from the sun. Ultraviolet rays are stronger in inland areas than on islands, so strengthen protection during outdoor activities.';
                    case 'middle_east':
                        return 'In non-desert areas of Australia, UV reflection is weak, but direct radiation is strong. Reduce the use of protective clothing and learn to apply sunscreen. From the all-weather high temperature to adapt to the morning and evening cool, timely increase or decrease clothing.';
                    default:
                        return 'Please select a region for specific sun protection tips.';
                }
            }

        });

        function updateAdvice() {
            var boxLevel = document.getElementById('trm-uv').textContent;
            var adviceText = 'Loading';

            if (boxLevel == 'NA') {
                adviceText = 'Loading';
            } else if (boxLevel == 'Low') {
                adviceText = 'No limit, but wear sunglasses on bright days';

            } else if (boxLevel == 'Moderate') {
                adviceText = 'Up to 2 hours, with sunscreen and protective clothing';

            } else if (boxLevel == 'High') {
                adviceText = 'Up to 1 hour, avoid midday sun, use high SPF sunscreen';

            } else if (boxLevel == 'Very High') {
                adviceText = 'Up to 30 minutes, avoid midday sun, seek shade';

            } else if (boxLevel == 'Extreme') {
                adviceText = 'Avoid outdoor activities, if necessary, stay in the shade with full protection';

            } else {
                adviceText = 'Loading';
            }

            document.getElementById('advice-1').querySelector('p').textContent = adviceText;
        }

        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'characterData' || mutation.type === 'childList') {
                    updateAdvice();
                }
            });
        });

        var config = {
            characterData: true,
            childList: true,
            subtree: true
        };

        observer.observe(document.getElementById('trm-uv'), config);

        updateAdvice();
    </script>
</body>


</html>